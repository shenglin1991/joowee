<div class="online-users" *ngIf="isVisible()">
  <div class="users-header">
    <h4>Utilisateurs en ligne ({{ displayUsers().length }})</h4>
    <button class="close-btn" (click)="closed.emit()">Ã—</button>
  </div>
  <div class="users-list">
    @if (displayUsers().length === 0) {
      <div style="padding: 2rem; text-align: center; color: #6b7280;">
        Aucun utilisateur en ligne
      </div>
    }
    <div 
      *ngFor="let user of displayUsers()" 
      class="user-item"
      (click)="userSelected.emit(user)"
    >
      <div class="user-avatar">
        {{ user.username | initial }}
      </div>
      <div class="user-name">{{ user.username || 'Utilisateur inconnu' }}</div>
      <div class="user-status online">En ligne</div>
    </div>
  </div>
</div>
